---
title: "Download File"
author: "Chris Selig"
date: "`r Sys.Date()`"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(
    echo = FALSE,
    message = FALSE,
    warning = FALSE
    )
```

## Description
This file is used to download the traffic incidents and construction detours data from the YYC Open data portal, using the provided API url

traffic incidents url: https://data.calgary.ca/resource/35ra-9556.csv
construction detours: https://data.calgary.ca/resource/w8zq-79bq.csv

Traffic incidents are updated on the Open data portal every 10min
Construction detours are updated on the Open data portal every day at 3am and 3pm

### Load Packages

```{r loadPackages, echo=FALSE}
library(dplyr)
```

### Source Functions

```{r sourceFunctions, echo=FALSE}
source("01_functions/download_data.R")

```
### Set Variables

```{r setVariables, echo=FALSE}
traffic_incidents_url <- "https://data.calgary.ca/resource/35ra-9556.csv"
construction_detours_url <- "https://data.calgary.ca/resource/w8zq-79bq.csv"
```

### Download Data

```{r downloadData}
download_data(url = traffic_incidents_url, destfile = "00_data/traffic_incidents.csv")
download_data(url = construction_detours_url, destfile = "00_data/construction_detours.csv")
```

